<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="755px" preserveAspectRatio="none" style="width:1298px;height:755px;" version="1.1" viewBox="0 0 1298 755" width="1298px" zoomAndPan="magnify"><defs><filter height="300%" id="f47meuzfyguzs" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster stringpersistor--><polygon fill="#FFFFFF" filter="url(#f47meuzfyguzs)" points="14,16,124,16,131,38.2969,1002,38.2969,1002,743,14,743,14,16" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="14" x2="131" y1="38.2969" y2="38.2969"/><text fill="#000000" font-family="Droid Sans" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="104" x="18" y="30.9951">stringpersistor</text><!--cluster stringpersistorapi--><polygon fill="#FFFFFF" filter="url(#f47meuzfyguzs)" points="1010,214,1141,214,1148,236.2969,1276,236.2969,1276,533,1010,533,1010,214" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="1010" x2="1148" y1="236.2969" y2="236.2969"/><text fill="#000000" font-family="Droid Sans" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="1014" y="228.9951">stringpersistorapi</text><!--class LogMessage--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="112.0234" id="LogMessage" style="stroke: #383838; stroke-width: 1.5;" width="197" x="519.5" y="413"/><ellipse cx="579.25" cy="429" fill="#B1B1B1" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M575.1719,424.7656 L575.1719,422.6094 L582.5625,422.6094 L582.5625,424.7656 L580.0938,424.7656 L580.0938,432.8438 L582.5625,432.8438 L582.5625,435 L575.1719,435 L575.1719,432.8438 L577.6406,432.8438 L577.6406,424.7656 L575.1719,424.7656 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="69" x="599.75" y="433.1543">LogMessage</text><line style="stroke: #383838; stroke-width: 1.5;" x1="520.5" x2="715.5" y1="445" y2="445"/><line style="stroke: #383838; stroke-width: 1.5;" x1="520.5" x2="715.5" y1="453" y2="453"/><ellipse cx="530.5" cy="464.9023" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="78" x="539.5" y="467.2104">getLevel():String</text><ellipse cx="530.5" cy="477.707" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="154" x="539.5" y="480.0151">getCreationTimestamp():Instant</text><ellipse cx="530.5" cy="490.5117" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="171" x="539.5" y="492.8198">getServerEntryTimestamp():Instant</text><ellipse cx="530.5" cy="503.3164" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="86" x="539.5" y="505.6245">getSource():String</text><ellipse cx="530.5" cy="516.1211" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="539.5" y="518.4292">getMessage():String</text><!--class Message--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="150.4375" id="Message" style="stroke: #383838; stroke-width: 1.5;" width="569" x="177.5" y="585"/><ellipse cx="432.75" cy="601" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M435.7188,606.6406 Q435.1406,606.9375 434.5,607.0859 Q433.8594,607.2344 433.1563,607.2344 Q430.6563,607.2344 429.3359,605.5859 Q428.0156,603.9375 428.0156,600.8125 Q428.0156,597.6875 429.3359,596.0313 Q430.6563,594.375 433.1563,594.375 Q433.8594,594.375 434.5078,594.5313 Q435.1563,594.6875 435.7188,594.9844 L435.7188,597.7031 Q435.0938,597.125 434.5,596.8516 Q433.9063,596.5781 433.2813,596.5781 Q431.9375,596.5781 431.25,597.6484 Q430.5625,598.7188 430.5625,600.8125 Q430.5625,602.9063 431.25,603.9766 Q431.9375,605.0469 433.2813,605.0469 Q433.9063,605.0469 434.5,604.7734 Q435.0938,604.5 435.7188,603.9219 L435.7188,606.6406 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="50" x="453.25" y="605.1543">Message</text><line style="stroke: #383838; stroke-width: 1.5;" x1="178.5" x2="745.5" y1="617" y2="617"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="185.5" y="625.9023"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="103" x="197.5" y="631.2104">serialVersionUID:long</text><line style="stroke: #000000; stroke-width: 1.0;" x1="197.5" x2="300.5" y1="633.2104" y2="633.2104"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="185.5" y="638.707"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="197.5" y="644.0151">level:String</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="185.5" y="651.5117"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="130" x="197.5" y="656.8198">creationTimestamp:Instant</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="185.5" y="664.3164"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="197.5" y="669.6245">serverEntryTimestamp:Instant</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="185.5" y="677.1211"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="197.5" y="682.4292">message:String</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="185.5" y="689.9258"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="197.5" y="695.2339">source:String</text><line style="stroke: #383838; stroke-width: 1.5;" x1="178.5" x2="745.5" y1="701.8281" y2="701.8281"/><ellipse cx="188.5" cy="713.7305" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="184" x="197.5" y="716.0386">Message(level:String, message:String)</text><ellipse cx="188.5" cy="726.5352" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="543" x="197.5" y="728.8433">Message(level:String, creationTimestamp:Instant, serverEntryTimestamp:Instant, source:String, message:String)</text><!--class StringPersistorFile--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="137.6328" id="StringPersistorFile" style="stroke: #383838; stroke-width: 1.5;" width="223" x="708.5" y="215"/><ellipse cx="766.75" cy="231" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M769.7188,236.6406 Q769.1406,236.9375 768.5,237.0859 Q767.8594,237.2344 767.1563,237.2344 Q764.6563,237.2344 763.3359,235.5859 Q762.0156,233.9375 762.0156,230.8125 Q762.0156,227.6875 763.3359,226.0313 Q764.6563,224.375 767.1563,224.375 Q767.8594,224.375 768.5078,224.5313 Q769.1563,224.6875 769.7188,224.9844 L769.7188,227.7031 Q769.0938,227.125 768.5,226.8516 Q767.9063,226.5781 767.2813,226.5781 Q765.9375,226.5781 765.25,227.6484 Q764.5625,228.7188 764.5625,230.8125 Q764.5625,232.9063 765.25,233.9766 Q765.9375,235.0469 767.2813,235.0469 Q767.9063,235.0469 768.5,234.7734 Q769.0938,234.5 769.7188,233.9219 L769.7188,236.6406 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="98" x="787.25" y="235.1543">StringPersistorFile</text><line style="stroke: #383838; stroke-width: 1.5;" x1="709.5" x2="930.5" y1="247" y2="247"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="716.5" y="255.9023"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="728.5" y="261.2104">lineSeparator:String</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="716.5" y="268.707"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="103" x="728.5" y="274.0151">writer:BufferedWriter</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="716.5" y="281.5117"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="728.5" y="286.8198">reader:BufferedReader</text><line style="stroke: #383838; stroke-width: 1.5;" x1="709.5" x2="930.5" y1="293.4141" y2="293.4141"/><ellipse cx="719.5" cy="305.3164" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="728.5" y="307.6245">StringPersistorFile()</text><ellipse cx="719.5" cy="318.1211" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="728.5" y="320.4292">setFile(file:File):void</text><ellipse cx="719.5" cy="330.9258" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="728.5" y="333.2339">save(instant:Instant, payload:String):void</text><ellipse cx="719.5" cy="343.7305" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="728.5" y="346.0386">get(count:int):List&lt;PersistedString&gt;</text><!--class PersistedStringParser--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="99.2188" id="PersistedStringParser" style="stroke: #383838; stroke-width: 1.5;" width="215" x="778.5" y="49.5"/><ellipse cx="823.25" cy="65.5" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M826.2188,71.1406 Q825.6406,71.4375 825,71.5859 Q824.3594,71.7344 823.6563,71.7344 Q821.1563,71.7344 819.8359,70.0859 Q818.5156,68.4375 818.5156,65.3125 Q818.5156,62.1875 819.8359,60.5313 Q821.1563,58.875 823.6563,58.875 Q824.3594,58.875 825.0078,59.0313 Q825.6563,59.1875 826.2188,59.4844 L826.2188,62.2031 Q825.5938,61.625 825,61.3516 Q824.4063,61.0781 823.7813,61.0781 Q822.4375,61.0781 821.75,62.1484 Q821.0625,63.2188 821.0625,65.3125 Q821.0625,67.4063 821.75,68.4766 Q822.4375,69.5469 823.7813,69.5469 Q824.4063,69.5469 825,69.2734 Q825.5938,69 826.2188,68.4219 L826.2188,71.1406 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="117" x="843.75" y="69.6543">PersistedStringParser</text><line style="stroke: #383838; stroke-width: 1.5;" x1="779.5" x2="992.5" y1="81.5" y2="81.5"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="786.5" y="90.4023"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="125" x="798.5" y="95.7104">ISO_INSTANT_LENGTH:int</text><line style="stroke: #000000; stroke-width: 1.0;" x1="798.5" x2="923.5" y1="97.7104" y2="97.7104"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="786.5" y="103.207"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="91" x="798.5" y="108.5151">SEPARATOR:String</text><line style="stroke: #000000; stroke-width: 1.0;" x1="798.5" x2="889.5" y1="110.5151" y2="110.5151"/><line style="stroke: #383838; stroke-width: 1.5;" x1="779.5" x2="992.5" y1="115.1094" y2="115.1094"/><ellipse cx="789.5" cy="127.0117" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="189" x="798.5" y="129.3198">parseItem(string:String):PersistedString</text><line style="stroke: #000000; stroke-width: 1.0;" x1="798.5" x2="987.5" y1="131.3198" y2="131.3198"/><ellipse cx="789.5" cy="139.8164" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="181" x="798.5" y="142.1245">startsWithIsoDate(line:String):boolean</text><line style="stroke: #000000; stroke-width: 1.0;" x1="798.5" x2="979.5" y1="144.1245" y2="144.1245"/><!--class LogPersistor--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="60.8047" id="LogPersistor" style="stroke: #383838; stroke-width: 1.5;" width="133" x="540.5" y="253.5"/><ellipse cx="570.8" cy="269.5" fill="#B1B1B1" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M566.7219,265.2656 L566.7219,263.1094 L574.1125,263.1094 L574.1125,265.2656 L571.6438,265.2656 L571.6438,273.3438 L574.1125,273.3438 L574.1125,275.5 L566.7219,275.5 L566.7219,273.3438 L569.1906,273.3438 L569.1906,265.2656 L566.7219,265.2656 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="67" x="588.2" y="273.6543">LogPersistor</text><line style="stroke: #383838; stroke-width: 1.5;" x1="541.5" x2="672.5" y1="285.5" y2="285.5"/><line style="stroke: #383838; stroke-width: 1.5;" x1="541.5" x2="672.5" y1="293.5" y2="293.5"/><ellipse cx="551.5" cy="305.4023" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="560.5" y="307.7104">save(log:LogMessage)</text><!--class StringPersistorAdapter--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="112.0234" id="StringPersistorAdapter" style="stroke: #383838; stroke-width: 1.5;" width="484" x="259" y="43"/><ellipse cx="435.75" cy="59" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M438.7188,64.6406 Q438.1406,64.9375 437.5,65.0859 Q436.8594,65.2344 436.1563,65.2344 Q433.6563,65.2344 432.3359,63.5859 Q431.0156,61.9375 431.0156,58.8125 Q431.0156,55.6875 432.3359,54.0313 Q433.6563,52.375 436.1563,52.375 Q436.8594,52.375 437.5078,52.5313 Q438.1563,52.6875 438.7188,52.9844 L438.7188,55.7031 Q438.0938,55.125 437.5,54.8516 Q436.9063,54.5781 436.2813,54.5781 Q434.9375,54.5781 434.25,55.6484 Q433.5625,56.7188 433.5625,58.8125 Q433.5625,60.9063 434.25,61.9766 Q434.9375,63.0469 436.2813,63.0469 Q436.9063,63.0469 437.5,62.7734 Q438.0938,62.5 438.7188,61.9219 L438.7188,64.6406 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="122" x="456.25" y="63.1543">StringPersistorAdapter</text><line style="stroke: #383838; stroke-width: 1.5;" x1="260" x2="742" y1="75" y2="75"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="267" y="83.9023"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="279" y="89.2104">stringPersistor:StringPersistor</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="267" y="96.707"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="161" x="279" y="102.0151">formatter:LogMessageFormatter</text><line style="stroke: #383838; stroke-width: 1.5;" x1="260" x2="742" y1="108.6094" y2="108.6094"/><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="267" y="117.5117"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="424" x="279" y="122.8198">StringPersistorAdapter(formatter:LogMessageFormatter, stringPersistor:StringPersistor)</text><ellipse cx="270" cy="133.3164" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="458" x="279" y="135.6245">create(formatter:LogMessageFormatter, stringPersistor:StringPersistor):StringPersistorAdapter</text><line style="stroke: #000000; stroke-width: 1.0;" x1="279" x2="737" y1="137.6245" y2="137.6245"/><ellipse cx="270" cy="146.1211" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="279" y="148.4292">save(log:LogMessage)</text><!--class LogMessageFormatter--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="73.6094" id="LogMessageFormatter" style="stroke: #383838; stroke-width: 1.5;" width="219" x="286.5" y="247"/><ellipse cx="330.3" cy="263" fill="#B1B1B1" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M326.2219,258.7656 L326.2219,256.6094 L333.6125,256.6094 L333.6125,258.7656 L331.1438,258.7656 L331.1438,266.8438 L333.6125,266.8438 L333.6125,269 L326.2219,269 L326.2219,266.8438 L328.6906,266.8438 L328.6906,258.7656 L326.2219,258.7656 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="123" x="350.7" y="267.1543">LogMessageFormatter</text><line style="stroke: #383838; stroke-width: 1.5;" x1="287.5" x2="504.5" y1="279" y2="279"/><line style="stroke: #383838; stroke-width: 1.5;" x1="287.5" x2="504.5" y1="287" y2="287"/><ellipse cx="297.5" cy="298.9023" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="193" x="306.5" y="301.2104">format(log:LogMessage):PersistedString</text><ellipse cx="297.5" cy="311.707" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="306.5" y="314.0151">parse(str:PersistedString):LogMessage</text><!--class SimpleFormatter--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="48" id="SimpleFormatter" style="stroke: #383838; stroke-width: 1.5;" width="124" x="360" y="445"/><ellipse cx="375" cy="461" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M377.9688,466.6406 Q377.3906,466.9375 376.75,467.0859 Q376.1094,467.2344 375.4063,467.2344 Q372.9063,467.2344 371.5859,465.5859 Q370.2656,463.9375 370.2656,460.8125 Q370.2656,457.6875 371.5859,456.0313 Q372.9063,454.375 375.4063,454.375 Q376.1094,454.375 376.7578,454.5313 Q377.4063,454.6875 377.9688,454.9844 L377.9688,457.7031 Q377.3438,457.125 376.75,456.8516 Q376.1563,456.5781 375.5313,456.5781 Q374.1875,456.5781 373.5,457.6484 Q372.8125,458.7188 372.8125,460.8125 Q372.8125,462.9063 373.5,463.9766 Q374.1875,465.0469 375.5313,465.0469 Q376.1563,465.0469 376.75,464.7734 Q377.3438,464.5 377.9688,463.9219 L377.9688,466.6406 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="92" x="389" y="465.1543">SimpleFormatter</text><line style="stroke: #383838; stroke-width: 1.5;" x1="361" x2="483" y1="477" y2="477"/><line style="stroke: #383838; stroke-width: 1.5;" x1="361" x2="483" y1="485" y2="485"/><!--class CurlyFormatter--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="48" id="CurlyFormatter" style="stroke: #383838; stroke-width: 1.5;" width="112" x="213" y="445"/><ellipse cx="228" cy="461" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M230.9688,466.6406 Q230.3906,466.9375 229.75,467.0859 Q229.1094,467.2344 228.4063,467.2344 Q225.9063,467.2344 224.5859,465.5859 Q223.2656,463.9375 223.2656,460.8125 Q223.2656,457.6875 224.5859,456.0313 Q225.9063,454.375 228.4063,454.375 Q229.1094,454.375 229.7578,454.5313 Q230.4063,454.6875 230.9688,454.9844 L230.9688,457.7031 Q230.3438,457.125 229.75,456.8516 Q229.1563,456.5781 228.5313,456.5781 Q227.1875,456.5781 226.5,457.6484 Q225.8125,458.7188 225.8125,460.8125 Q225.8125,462.9063 226.5,463.9766 Q227.1875,465.0469 228.5313,465.0469 Q229.1563,465.0469 229.75,464.7734 Q230.3438,464.5 230.9688,463.9219 L230.9688,466.6406 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="242" y="465.1543">CurlyFormatter</text><line style="stroke: #383838; stroke-width: 1.5;" x1="214" x2="324" y1="477" y2="477"/><line style="stroke: #383838; stroke-width: 1.5;" x1="214" x2="324" y1="485" y2="485"/><!--class MessageFormatter--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="86.4141" id="MessageFormatter" style="stroke: #383838; stroke-width: 1.5;" width="202" x="22" y="56"/><ellipse cx="66.75" cy="72" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M69.7188,77.6406 Q69.1406,77.9375 68.5,78.0859 Q67.8594,78.2344 67.1563,78.2344 Q64.6563,78.2344 63.3359,76.5859 Q62.0156,74.9375 62.0156,71.8125 Q62.0156,68.6875 63.3359,67.0313 Q64.6563,65.375 67.1563,65.375 Q67.8594,65.375 68.5078,65.5313 Q69.1563,65.6875 69.7188,65.9844 L69.7188,68.7031 Q69.0938,68.125 68.5,67.8516 Q67.9063,67.5781 67.2813,67.5781 Q65.9375,67.5781 65.25,68.6484 Q64.5625,69.7188 64.5625,71.8125 Q64.5625,73.9063 65.25,74.9766 Q65.9375,76.0469 67.2813,76.0469 Q67.9063,76.0469 68.5,75.7734 Q69.0938,75.5 69.7188,74.9219 L69.7188,77.6406 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="104" x="87.25" y="76.1543">MessageFormatter</text><line style="stroke: #383838; stroke-width: 1.5;" x1="23" x2="223" y1="88" y2="88"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="30" y="96.9023"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="89" x="42" y="102.2104">FORMATTER:Class</text><line style="stroke: #000000; stroke-width: 1.0;" x1="42" x2="131" y1="104.2104" y2="104.2104"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="30" y="109.707"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="153" x="42" y="115.0151">instance:LogMessageFormatter</text><line style="stroke: #000000; stroke-width: 1.0;" x1="42" x2="195" y1="117.0151" y2="117.0151"/><line style="stroke: #383838; stroke-width: 1.5;" x1="23" x2="223" y1="121.6094" y2="121.6094"/><ellipse cx="33" cy="133.5117" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="176" x="42" y="135.8198">getInstance():LogMessageFormatter</text><line style="stroke: #000000; stroke-width: 1.0;" x1="42" x2="218" y1="137.8198" y2="137.8198"/><!--class RemotePushHandler--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="60.8047" id="RemotePushHandler" style="stroke: #383838; stroke-width: 1.5;" width="155" x="22.5" y="438.5"/><ellipse cx="42" cy="454.5" fill="#B1B1B1" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M37.9219,450.2656 L37.9219,448.1094 L45.3125,448.1094 L45.3125,450.2656 L42.8438,450.2656 L42.8438,458.3438 L45.3125,458.3438 L45.3125,460.5 L37.9219,460.5 L37.9219,458.3438 L40.3906,458.3438 L40.3906,450.2656 L37.9219,450.2656 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="113" x="57" y="458.6543">RemotePushHandler</text><line style="stroke: #383838; stroke-width: 1.5;" x1="23.5" x2="176.5" y1="470.5" y2="470.5"/><line style="stroke: #383838; stroke-width: 1.5;" x1="23.5" x2="176.5" y1="478.5" y2="478.5"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="28.5" y="492.7104">push(message:Message):void</text><!--class RemoteRegistration--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="60.8047" id="RemoteRegistration" style="stroke: #383838; stroke-width: 1.5;" width="213" x="21.5" y="253.5"/><ellipse cx="69.75" cy="269.5" fill="#B1B1B1" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M65.6719,265.2656 L65.6719,263.1094 L73.0625,263.1094 L73.0625,265.2656 L70.5938,265.2656 L70.5938,273.3438 L73.0625,273.3438 L73.0625,275.5 L65.6719,275.5 L65.6719,273.3438 L68.1406,273.3438 L68.1406,265.2656 L65.6719,265.2656 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="108" x="90.25" y="273.6543">RemoteRegistration</text><line style="stroke: #383838; stroke-width: 1.5;" x1="22.5" x2="233.5" y1="285.5" y2="285.5"/><line style="stroke: #383838; stroke-width: 1.5;" x1="22.5" x2="233.5" y1="293.5" y2="293.5"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="201" x="27.5" y="307.7104">register(viewer:RemotePushHandler):void</text><!--class stringpersistorapi.StringPersistor--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="86.4141" id="stringpersistorapi.StringPersistor" style="stroke: #383838; stroke-width: 1.5;" width="223" x="1038.5" y="241"/><ellipse cx="1106.25" cy="257" fill="#B1B1B1" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1102.1719,252.7656 L1102.1719,250.6094 L1109.5625,250.6094 L1109.5625,252.7656 L1107.0938,252.7656 L1107.0938,260.8438 L1109.5625,260.8438 L1109.5625,263 L1102.1719,263 L1102.1719,260.8438 L1104.6406,260.8438 L1104.6406,252.7656 L1102.1719,252.7656 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="79" x="1126.75" y="261.1543">StringPersistor</text><line style="stroke: #383838; stroke-width: 1.5;" x1="1039.5" x2="1260.5" y1="273" y2="273"/><line style="stroke: #383838; stroke-width: 1.5;" x1="1039.5" x2="1260.5" y1="281" y2="281"/><ellipse cx="1049.5" cy="292.9023" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="1058.5" y="295.2104">setFile(file:File):void</text><ellipse cx="1049.5" cy="305.707" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="197" x="1058.5" y="308.0151">save(instant:Instant, payload:String):void</text><ellipse cx="1049.5" cy="318.5117" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="1058.5" y="320.8198">get(count:int):List&lt;PersistedString&gt;</text><!--class stringpersistorapi.PersistedString--><rect fill="#F8F8F8" filter="url(#f47meuzfyguzs)" height="112.0234" id="stringpersistorapi.PersistedString" style="stroke: #383838; stroke-width: 1.5;" width="249" x="1018.5" y="413"/><ellipse cx="1097.75" cy="429" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1100.7188,434.6406 Q1100.1406,434.9375 1099.5,435.0859 Q1098.8594,435.2344 1098.1563,435.2344 Q1095.6563,435.2344 1094.3359,433.5859 Q1093.0156,431.9375 1093.0156,428.8125 Q1093.0156,425.6875 1094.3359,424.0313 Q1095.6563,422.375 1098.1563,422.375 Q1098.8594,422.375 1099.5078,422.5313 Q1100.1563,422.6875 1100.7188,422.9844 L1100.7188,425.7031 Q1100.0938,425.125 1099.5,424.8516 Q1098.9063,424.5781 1098.2813,424.5781 Q1096.9375,424.5781 1096.25,425.6484 Q1095.5625,426.7188 1095.5625,428.8125 Q1095.5625,430.9063 1096.25,431.9766 Q1096.9375,433.0469 1098.2813,433.0469 Q1098.9063,433.0469 1099.5,432.7734 Q1100.0938,432.5 1100.7188,431.9219 L1100.7188,434.6406 Z "/><text fill="#000000" font-family="Droid Sans" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="82" x="1118.25" y="433.1543">PersistedString</text><line style="stroke: #383838; stroke-width: 1.5;" x1="1019.5" x2="1266.5" y1="445" y2="445"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1026.5" y="453.9023"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="90" x="1038.5" y="459.2104">timestamp:Instant</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1026.5" y="466.707"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="1038.5" y="472.0151">payload:String</text><line style="stroke: #383838; stroke-width: 1.5;" x1="1019.5" x2="1266.5" y1="478.6094" y2="478.6094"/><ellipse cx="1029.5" cy="490.5117" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="1038.5" y="492.8198">PersistedString(instant:Instant, payload:String)</text><ellipse cx="1029.5" cy="503.3164" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="113" x="1038.5" y="505.6245">getTimestamp():Instant</text><ellipse cx="1029.5" cy="516.1211" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="Droid Sans" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="91" x="1038.5" y="518.4292">getPayload():String</text><!--link stringpersistorapi.StringPersistor to StringPersistorFile--><path d="M1018.1875,284 C989.293,284 960.3984,284 931.5039,284 " fill="none" id="stringpersistorapi.StringPersistor-StringPersistorFile" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="1018.1915,276.9999,1038.1915,284,1018.1914,290.9999,1018.1915,276.9999" style="stroke: #383838; stroke-width: 1.0;"/><!--link StringPersistorFile to stringpersistorapi.PersistedString--><path d="M931.6106,347.9256 C966.9492,368.166 1005.8218,390.4305 1040.4901,410.2869 " fill="none" id="StringPersistorFile-stringpersistorapi.PersistedString" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1045.1335,412.9464,1039.312,405.0022,1040.7948,410.4613,1035.3358,411.9441,1045.1335,412.9464" style="stroke: #383838; stroke-width: 1.0;"/><!--link PersistedStringParser to stringpersistorapi.PersistedString--><path d="M913.5418,148.676 C924.6607,168.8854 937.5459,192.5026 949,214 C981.7157,275.4018 979.2132,297.3731 1021,353 C1035.7692,372.6609 1054.0084,391.9283 1071.8414,408.9371 " fill="none" id="PersistedStringParser-stringpersistorapi.PersistedString" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1075.8789,412.7567,1072.0897,403.6659,1072.2467,409.3206,1066.592,409.4775,1075.8789,412.7567" style="stroke: #383838; stroke-width: 1.0;"/><!--link LogMessage to Message--><path d="M559.3234,540.8412 C547.586,555.212 535.2256,570.3456 523.399,584.8255 " fill="none" id="LogMessage-Message" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="554.1759,536.0777,572.2489,525.0157,565.0189,544.9338,554.1759,536.0777" style="stroke: #383838; stroke-width: 1.0;"/><!--link LogPersistor to LogMessage--><path d="M608.8164,314.549 C610.3162,339.7729 612.4924,376.3714 614.3499,407.6114 " fill="none" id="LogPersistor-LogMessage" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="614.6689,412.9761,618.1275,403.7545,614.372,407.9849,610.1416,404.2295,614.6689,412.9761" style="stroke: #383838; stroke-width: 1.0;"/><!--link StringPersistorAdapter to LogPersistor--><path d="M543.1743,172.6061 C559.3291,200.8009 576.8856,231.4419 589.4888,253.438 " fill="none" id="StringPersistorAdapter-LogPersistor" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="536.9605,175.8415,533.0912,155.0081,549.1078,168.8814,536.9605,175.8415" style="stroke: #383838; stroke-width: 1.0;"/><!--link StringPersistorAdapter to stringpersistorapi.StringPersistor--><path d="M755.8629,155.2026 C876.2648,181.9966 996.7381,209.2651 1010,214 C1030.7297,221.4011 1052.3572,231.1267 1072.239,240.9647 " fill="none" id="StringPersistorAdapter-stringpersistorapi.StringPersistor" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="743.0851,152.3607,748.0736,157.5679,754.7989,154.966,749.8104,149.7588,743.0851,152.3607" style="stroke: #383838; stroke-width: 1.0;"/><!--link StringPersistorAdapter to StringPersistorFile--><path d="M597.5762,155.0081 C631.0088,174.397 668.8341,196.3333 703.6847,216.5444 " fill="none" id="StringPersistorAdapter-StringPersistorFile" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="708.3602,219.2559,702.5815,211.2805,704.0349,216.7475,698.568,218.201,708.3602,219.2559" style="stroke: #383838; stroke-width: 1.0;"/><!--link StringPersistorAdapter to LogMessageFormatter--><path d="M462.7311,166.4261 C447.317,193.5843 430.1326,223.8616 417.0629,246.8892 " fill="none" id="StringPersistorAdapter-LogMessageFormatter" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="469.2116,155.0081,462.7712,158.2518,463.2883,165.4443,469.7287,162.2006,469.2116,155.0081" style="stroke: #383838; stroke-width: 1.0;"/><!--link LogMessageFormatter to LogMessage--><path d="M440.658,321.215 C470.9539,346.4616 511.6646,380.3872 546.4391,409.366 " fill="none" id="LogMessageFormatter-LogMessage" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="550.6494,412.8745,546.296,404.04,546.8082,409.6736,541.1746,410.1859,550.6494,412.8745" style="stroke: #383838; stroke-width: 1.0;"/><!--link LogMessageFormatter to stringpersistorapi.PersistedString--><path d="M453.3836,321.1086 C474.4987,333.1382 499.1045,345.342 523,353 C730.6767,419.5561 799.2798,356.8189 1010,413 C1011.131,413.3015 1012.2649,413.6107 1013.4015,413.9272 " fill="none" id="LogMessageFormatter-stringpersistorapi.PersistedString" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1018.3993,415.36,1010.8502,409.0345,1013.5929,413.982,1008.6455,416.7247,1018.3993,415.36" style="stroke: #383838; stroke-width: 1.0;"/><!--link LogMessageFormatter to SimpleFormatter--><path d="M404.061,341.3572 C408.9508,376.1503 414.9358,418.7355 418.6072,444.859 " fill="none" id="LogMessageFormatter-SimpleFormatter" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="397.1132,342.2171,401.2615,321.4375,410.9769,340.2686,397.1132,342.2171" style="stroke: #383838; stroke-width: 1.0;"/><!--link LogMessageFormatter to CurlyFormatter--><path d="M358.962,337.953 C334.6738,373.3335 304.0953,417.877 285.5725,444.859 " fill="none" id="LogMessageFormatter-CurlyFormatter" style="stroke: #383838; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="none" points="353.2094,333.9644,370.2997,321.4375,364.7514,341.8879,353.2094,333.9644" style="stroke: #383838; stroke-width: 1.0;"/><!--link MessageFormatter to LogMessageFormatter--><path d="M186.6618,142.1408 C231.994,172.8604 292.4839,213.8517 336.7803,243.8695 " fill="none" id="MessageFormatter-LogMessageFormatter" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="341.0155,246.7394,335.8091,238.3792,336.8764,243.9344,331.3211,245.0017,341.0155,246.7394" style="stroke: #383838; stroke-width: 1.0;"/><!--link RemotePushHandler to Message--><path d="M142.6457,499.7043 C158.7205,510.7473 177.3809,522.949 195,533 C224.9599,550.0908 257.5873,566.9595 289.4178,582.5451 " fill="none" id="RemotePushHandler-Message" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="294.1079,584.8352,287.7756,577.2919,289.6149,582.6413,284.2654,584.4807,294.1079,584.8352" style="stroke: #383838; stroke-width: 1.0;"/><!--link RemoteRegistration to RemotePushHandler--><path d="M123.3764,314.549 C118.4316,347.2198 110.5987,398.9729 105.3807,433.4487 " fill="none" id="RemoteRegistration-RemotePushHandler" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="104.6305,438.4056,109.9324,430.1056,105.3788,433.4619,102.0225,428.9083,104.6305,438.4056" style="stroke: #383838; stroke-width: 1.0;"/><!--link stringpersistorapi.StringPersistor to stringpersistorapi.PersistedString--><path d="M1148.3588,327.3743 C1147.4534,351.3036 1146.3141,381.4122 1145.3191,407.7088 " fill="none" id="stringpersistorapi.StringPersistor-stringpersistorapi.PersistedString" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="#383838" points="1145.1222,412.9143,1149.4598,404.0721,1145.3113,407.9179,1141.4655,403.7694,1145.1222,412.9143" style="stroke: #383838; stroke-width: 1.0;"/><!--
@startuml

skinparam monochrome true
skinparam defaultFontName Droid Sans

package "stringpersistor" {
    interface LogMessage {
        + getLevel():String
        + getCreationTimestamp():Instant
        + getServerEntryTimestamp():Instant
        + getSource():String
        + getMessage():String
    }
    class Message {
        {static} - serialVersionUID:long
        - level:String
        - creationTimestamp:Instant
        - serverEntryTimestamp:Instant
        - message:String
        - source:String
        + Message(level:String, message:String)
        + Message(level:String, creationTimestamp:Instant, serverEntryTimestamp:Instant, source:String, message:String)
    }
    class StringPersistorFile {
        - lineSeparator:String
        - writer:BufferedWriter
        - reader:BufferedReader
        + StringPersistorFile()
        + setFile(file:File):void
        + save(instant:Instant, payload:String):void
        + get(count:int):List<PersistedString>
    }
    class PersistedStringParser {
        {static} - ISO_INSTANT_LENGTH:int
        {static} - SEPARATOR:String
        {static} + parseItem(string:String):PersistedString
        {static} + startsWithIsoDate(line:String):boolean
    }
    interface LogPersistor {
        + save(log:LogMessage)
    }
    class StringPersistorAdapter {
        - stringPersistor:StringPersistor
        - formatter:LogMessageFormatter
        - StringPersistorAdapter(formatter:LogMessageFormatter, stringPersistor:StringPersistor)
        {static} + create(formatter:LogMessageFormatter, stringPersistor:StringPersistor):StringPersistorAdapter
        + save(log:LogMessage)
    }
    interface LogMessageFormatter {
        + format(log:LogMessage):PersistedString
        + parse(str:PersistedString):LogMessage
    }
    class SimpleFormatter {
    }
    class CurlyFormatter {
    }
    class MessageFormatter {
        {static} - FORMATTER:Class
        {static} - instance:LogMessageFormatter
        {static} + getInstance():LogMessageFormatter
    }
    interface RemotePushHandler {
        push(message:Message):void
    }
    interface RemoteRegistration {
        register(viewer:RemotePushHandler):void
    }
    stringpersistorapi.StringPersistor <|- - StringPersistorFile
    StringPersistorFile - -> stringpersistorapi.PersistedString
    PersistedStringParser - -> stringpersistorapi.PersistedString
    LogMessage <|.. Message
    LogPersistor - -> LogMessage
    StringPersistorAdapter <|- - LogPersistor
    StringPersistorAdapter o- - stringpersistorapi.StringPersistor
    StringPersistorAdapter - -> StringPersistorFile
    StringPersistorAdapter o- - LogMessageFormatter
    LogMessageFormatter - -> LogMessage
    LogMessageFormatter - -> stringpersistorapi.PersistedString
    LogMessageFormatter <|.. SimpleFormatter
    LogMessageFormatter <|.. CurlyFormatter
    MessageFormatter - -> LogMessageFormatter
    RemotePushHandler - -> Message
    RemoteRegistration - -> RemotePushHandler
}

package "stringpersistorapi" {
    interface StringPersistor {
        + setFile(file:File):void
        + save(instant:Instant, payload:String):void
        + get(count:int):List<PersistedString>
    }
    class PersistedString {
        - timestamp:Instant
        - payload:String
        + PersistedString(instant:Instant, payload:String)
        + getTimestamp():Instant
        + getPayload():String
    }
    StringPersistor - -> PersistedString
}

@enduml

PlantUML version 1.2018.03(Thu Apr 05 18:59:15 CEST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_172-b11
Operating System: Linux
OS Version: 4.16.8-1-ARCH
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>